<!DOCTYPE html>
<html lang="ja">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>入力法</title>
<link rel="stylesheet" type="text/css" href="style.css">
<style>
li{margin:0.6em 0em;}
</style>
</head>
<body marginwidth=50>
<h1>葦手入力　仕様書</h1>
<p>中山春明　記</p>
<p>　この文書は、葦手入力を改変・応用するために、開発者向けに書いたものである。入力法の仕組みや、開発用ファイルの構造について、解説する。</p>
<h2>目次</h2>
<ul>
<li>○入力法</li>
	<ul><li>概要</li>
	<li>字素・字母</li>
	<li>分析法</li></ul>
<li>○分析式</li>
<li>○プログラム</li>
</ul>
<hr></hr>
<h2>入力法</h2>
<div name="1">
<h3>概要</h3>
<p>　葦手入力は、字形入力方式による漢字入力の一種である。字形の視覚的な情報から個々の文字の打鍵を定めるが、文字の形の要素を片仮名の形に当てはめて打鍵に為すことで、あらゆる漢字が容易に入力できるのが特色である。</p>
<p>　葦手入力の指向する所は、あらゆる漢字を容易に入力できることにあるため、以下の特徴を持つ。
<ul>
<li>学習が容易<br><div style="padding-left: 2em;">……片仮名の形に漢字のあらゆる偏旁・点画をあてることで、学習の便宜とする。</div></li>
<li>対応環境が幅広い<br><div style="padding-left: 2em;">……打鍵を仮名文字列とすることで、仮名漢字変換の既存のしくみを応用させてあらゆる環境で利用できるようにする。</div></li>
<li>形から打鍵が一意に定まる<br><div style="padding-left: 2em;">……打鍵の付与をすべて機械的な規則に従って漢字の形を分析して行ふことで、暗記の必要な例外を抑へる。</div></li>
<li>初めて見る漢字でも入力できる<br><div style="padding-left: 2em;">……打鍵を機械的に付与させることで、形を見ればすぐに打鍵を導き出すことができるやうにする。</div></li>
</ul>
　葦手入力の仕様は、この指針によって定まってゐる。</p>
<hr></hr>

<h3>字素・字母</h3>
<div>
<p>　葦手入力の打鍵は、字母と呼ぶ打鍵単位によつて構成される。字母は四十六の仮名であり、一般的な日本語入力環境なら苦労なく入力できる文字である。<br>
　漢字の殆どは、既存の漢字や形を組み合はせることでその字形が成立してゐる。葦手入力では、個々の漢字の字形を、さうした細かい形に分析していき、最終的にそれ以上分析できない最小単位の要素の集合として定義する。この葦手入力における字形分析の最小単位の要素を字素といふ。字素は、入力対象になる文字集合のうちの全ての漢字の形を分析した結果に得られたもので、その全ての漢字の形を定義するのに十分な種類が定められる。それぞれの字素は、片仮名の形との一致もしくは類似や連想によって、字母と対応づけられる。つまり、個々の漢字に当てられる打鍵は、漢字を分析して得られた字素を、字母の仮名に置き換へたものによって規定される。実際の打鍵は、それから規則に従つて最長五字母を取り出したものである。<br>
　字素の種類とそれに対応する字母は、点画偏旁分析表において定義される。</p>
<p>　字素は、全て漢字を分析した結果得られたものであるが、そのある分析段階でそれを字素として取り出すべきと認める判断基準は、次のような事柄によつた。
<ul>
<li>形の片仮名に一致するもの・類似するもの（了力千礻二三厶刂冫）</li>
<li>使用頻度が高いもの（一十丨丶大日灬）</li>
<li>それ以上に細かくすると分析が煩雑になるもしくは不可能なもの（亼專囪卐〇）</li>
<li>他の字と打鍵の分別が困難になるもの（口囗・吊弔）</li>
</ul>
</p>
<p>取り出された字素に対する、字母の対応させ方は、片仮名の形との類似を基本とするが、片仮名の形では全ての字素を覆へないため、形の操作や連想による結びつけや仮名の異体字を字母に引き入れたりすることで、全ての字素に字母をあてる。その方法は、全く無秩序なものでなく、一定の決まりがある。<br>
　それには、どのやうな字母を設定するかの素材の面と、それをいかに変化させて字素と結びつけるかの加工の面との、二面における工夫がある。<br>
素材
<ul>
<li>片仮名　……現行の片仮名の形を素材とする</li>
<li>異体　……字母の異体の形を素材とする</li>
<li>原形　……字母の字源の形を素材とする</li>
</ul>
加工
<ul>
<li>同形　……素材の形をそのまま利用する</li>
<li>用筆変化　……素材の形の用筆を変化させる</li>
<li>点画再構　……素材の形の点画を組み替える</li>
<li>通形　……素材の形の変化形を持ち出す</li>
<li>類形　……素材の形の印象の類似から引き寄せる</li>
</ul>

</p>
</div>
<hr></hr>

<h3>分析法</h3>
<div>
<h4>・分析規則</h4>
<p>　それぞれの文字に与へられる打鍵は最長五字母で、その打鍵字母は文字を規則的に分析して抽出することで決定される。まづ分析の方法が文字の結構の種類によつて決まる。葦手入力で規定された結構は次の通りである。これらの結構は、文字を偏旁に二分したときの組み合はさり方で決定する。</p>
<ol>
<li>分断できる箇所が複数ある場合、最も前方で二分する。</li>
<li>交叉する偏旁どうしより、接合する偏旁どうしを先に分断し、接合する偏旁どうしより、分かれた偏旁どうしを先に分断する。（更吏）</li>
<li>ある偏旁に対して、同じ形が複数同等な関係に接合・交叉してゐる場合、同じ形の複数をひとまとめとする。（拝）</li>
<li>前方から結合していき、字素に一致するものがあればひとまとめとする。</li>
<li>偏旁につく肩の点は無視する。</li>
<li>覆ひ結構の垂れ偏旁は、偏旁個別に分析方法を規定する。</li>
<li>挟み結構の挟む偏旁は、偏旁個別に規定する。</li>
<li>打鍵分別の都合上、単字と偏旁とで打鍵の異なる字は個別に規定する。</li>
</ol>
</div>

<h4>・分析手順</h4>
<div>
<ul>
<li>（1）文字のを二分して前方と後方とに分かち、結構を定める。</li>
<li>（2）結構に従つて、前部・後部を、小部・大部に配する。</li>
<li>（3）前部・後部をそれぞれ分析して字母を抽出する。</li>
	<ul>
	<li>（3イ）小部は、初項と末項との二字母を取る。小部が一項のみの場合、その一字母を取る。</li>
	<li>（3ロ）大部は、また二分して、甲部と乙部とし、</li>
		<ul><li>（3ロ子）甲部が二項以上なら、甲部の初項と末項と、乙部の末項との三字母を取り、大部の字母とする。</li>
		<li>（3ロ丑）甲部が一項なら、甲部の一項と、乙部の初項と末項との三字母を取り、大部の字母とする。乙部が一項なら、甲部の一字母とその一字母との二字母を取り、大部の字母とする。</li>
		<li>（3ロ寅）大部が一項なら、その一字母を取り、大部の字母とする。</li></ul>
	</ul>
<li>（4）結構に従つて最大五字母を合成して、打鍵となす。</li>
</ul>
<div>

<h4>・分別打鍵</h4>
<div>
<p>　同打鍵に異なる字が重複して当たつてゐる場合、それぞれの打鍵の末に固有の符号（分別子）を加へることで一意に入力することができる。分別子は「ぁ・ぃ・ぅ・ぇ・ぉ・ゃ・ゅ・ょ」とし、JIS第一水準・第二水準字表順、CJK統合漢字表順の次第で、「ぁ」から順に割り振られる。</p>
</div>

</div>

</div>
</body>
</html>